
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoCleanup Tracker - Earn Carbon Credits for Environmental Cleanup</title>
    <style>
        :root {
  /* Primitive Color Tokens */
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);
  /* RGB versions for opacity control */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;
  /* Background color tokens (Light Mode) */
  --color-bg-1: rgba(59, 130, 246, 0.08);
  --color-bg-2: rgba(245, 158, 11, 0.08);
  --color-bg-3: rgba(34, 197, 94, 0.08);
  --color-bg-4: rgba(239, 68, 68, 0.08);
  --color-bg-5: rgba(147, 51, 234, 0.08);
  --color-bg-6: rgba(249, 115, 22, 0.08);
  --color-bg-7: rgba(236, 72, 153, 0.08);
  --color-bg-8: rgba(6, 182, 212, 0.08);
  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);
  /* Typography */
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, monospace;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --letter-spacing-tight: -0.01em;
  /* Spacing */
  --space-0: 0;
  --space-1: 1px;
  --space-2: 2px;
  --space-4: 4px;
  --space-6: 6px;
  --space-8: 8px;
  --space-10: 10px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;
  /* Border Radius */
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;
  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
    0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
    0 4px 6px -2px rgba(0, 0, 0, 0.02);
  /* Animation */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
  /* Green theme colors */
  --green-primary: #10b981;
  --green-dark: #059669;
  --green-darker: #047857;
  --green-light: #34d399;
  --yellow-warning: #f59e0b;
  --blue-info: #3b82f6;
}
@media (prefers-color-scheme: dark) {
  :root {
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;
    --color-bg-1: rgba(29, 78, 216, 0.15);
    --color-bg-2: rgba(180, 83, 9, 0.15);
    --color-bg-3: rgba(21, 128, 61, 0.15);
    --color-bg-4: rgba(185, 28, 28, 0.15);
    --color-bg-5: rgba(107, 33, 168, 0.15);
    --color-bg-6: rgba(194, 65, 12, 0.15);
    --color-bg-7: rgba(190, 24, 93, 0.15);
    --color-bg-8: rgba(8, 145, 178, 0.15);
    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
  }
}
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
body {
    font-family: var(--font-family-base);
    background: var(--color-background);
    color: var(--color-text);
    line-height: 1.6;
}
.header {
    background: linear-gradient(135deg, var(--green-primary), var(--green-darker));
    color: white;
    padding: var(--space-20) var(--space-24);
    box-shadow: var(--shadow-lg);
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.header-content {
    display: flex;
    align-items: center;
    gap: var(--space-16);
}
.logo {
    width: 48px;
    height: 48px;
    background: white;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
}
.header h1 {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: white;
}
.nav-menu {
    display: flex;
    gap: var(--space-8);
    flex-wrap: wrap;
}
.nav-btn {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border: none;
    padding: var(--space-8) var(--space-16);
    border-radius: var(--radius-base);
    cursor: pointer;
    font-size: var(--font-size-sm);
    transition: all var(--duration-fast) var(--ease-standard);
}
.nav-btn:hover {
    background: rgba(255, 255, 255, 0.2);
}
.nav-btn.active {
    background: white;
    color: var(--green-primary);
    font-weight: var(--font-weight-medium);
}
.user-info {
    color: white;
    font-size: var(--font-size-sm);
    margin-left: var(--space-16);
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}
.logout-btn {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: none;
    padding: var(--space-4) var(--space-12);
    border-radius: var(--radius-full);
    cursor: pointer;
    font-size: var(--font-size-xs);
    margin-top: var(--space-4);
    transition: background var(--duration-fast) var(--ease-standard);
}
.logout-btn:hover {
    background: rgba(255, 255, 255, 0.3);
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-32) var(--space-24);
}
.hero {
    text-align: center;
    margin-bottom: var(--space-32);
}
.hero h2 {
    font-size: var(--font-size-4xl);
    margin-bottom: var(--space-16);
    color: var(--color-text);
}
.hero p {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-24);
}
/* Login/Signup Modal */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
}
.modal-content {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-32);
    width: 90%;
    max-width: 500px;
    box-shadow: var(--shadow-lg);
    position: relative;
}
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-24);
}
.modal-header h2 {
    font-size: var(--font-size-2xl);
    color: var(--color-text);
}
.close-btn {
    background: none;
    border: none;
    font-size: var(--font-size-xl);
    cursor: pointer;
    color: var(--color-text-secondary);
}
.tab-container {
    display: flex;
    border-bottom: 1px solid var(--color-border);
    margin-bottom: var(--space-20);
}
.tab-btn {
    background: none;
    border: none;
    padding: var(--space-12) var(--space-16);
    cursor: pointer;
    font-size: var(--font-size-base);
    color: var(--color-text-secondary);
    border-bottom: 2px solid transparent;
}
.tab-btn.active {
    color: var(--color-primary);
    border-bottom: 2px solid var(--color-primary);
}
.tab-content {
    display: none;
}
.tab-content.active {
    display: block;
}
.form-group {
    margin-bottom: var(--space-16);
}
.form-label {
    display: block;
    margin-bottom: var(--space-4);
    font-size: var(--font-size-sm);
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
}
.form-control {
    width: 100%;
    padding: var(--space-12) var(--space-16);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-base);
    background: var(--color-surface);
    color: var(--color-text);
    font-size: var(--font-size-base);
    transition: border-color var(--duration-fast) var(--ease-standard);
}
.form-control:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px var(--color-focus-ring);
}
.btn {
    display: inline-block;
    padding: var(--space-12) var(--space-24);
    border-radius: var(--radius-base);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-standard);
    border: none;
}
.btn--primary {
    background: var(--color-primary);
    color: var(--color-btn-primary-text);
}
.btn--primary:hover {
    background: var(--color-primary-hover);
}
.btn--secondary {
    background: var(--color-secondary);
    color: var(--color-text);
    border: 1px solid var(--color-border);
}
.btn--secondary:hover {
    background: var(--color-secondary-hover);
}
.btn--full-width {
    width: 100%;
}
.forgot-password {
    display: block;
    text-align: right;
    margin-top: var(--space-4);
    font-size: var(--font-size-sm);
    color: var(--color-primary);
    text-decoration: none;
}
.forgot-password:hover {
    text-decoration: underline;
}

/* Dashboard Section */
.dashboard-section {
    margin-bottom: var(--space-32);
    padding: var(--space-24);
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
}
.dashboard-section h2 {
    margin-bottom: var(--space-16);
    color: var(--color-text);
}
.user-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-16);
    margin-bottom: var(--space-24);
}
.user-stat-card {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    text-align: center;
    box-shadow: var(--shadow-xs);
}
.user-stat-icon {
    font-size: 32px;
    margin-bottom: var(--space-8);
}
.user-stat-value {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--green-primary);
    margin-bottom: var(--space-4);
}
.user-stat-label {
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
}
/* Existing styles continue... (Pulse Score, Metrics Grid, etc.) */
.pulse-score-container {
    display: flex;
    justify-content: center;
    margin-bottom: var(--space-32);
}
.pulse-score {
    background: var(--color-surface);
    border: 2px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-32);
    text-align: center;
    box-shadow: var(--shadow-lg);
    min-width: 300px;
}
.pulse-circle {
    width: 180px;
    height: 180px;
    margin: 0 auto var(--space-20);
    position: relative;
    animation: pulse 2s ease-in-out infinite;
}
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}
.pulse-circle svg {
    transform: rotate(-90deg);
}
.pulse-value {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}
.pulse-value .score {
    font-size: 48px;
    font-weight: var(--font-weight-bold);
    color: var(--green-primary);
    line-height: 1;
}
.pulse-value .max {
    font-size: var(--font-size-xl);
    color: var(--color-text-secondary);
}
.pulse-score h3 {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-8);
}
.pulse-status {
    display: inline-block;
    padding: var(--space-6) var(--space-16);
    background: rgba(16, 185, 129, 0.1);
    color: var(--green-primary);
    border-radius: var(--radius-full);
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-base);
}
.section-title {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-24);
    color: var(--color-text);
}
.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-20);
    margin-bottom: var(--space-32);
}
.metric-card {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    box-shadow: var(--shadow-sm);
    transition: all var(--duration-normal) var(--ease-standard);
}
.metric-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}
.metric-header {
    display: flex;
    align-items: center;
    gap: var(--space-12);
    margin-bottom: var(--space-16);
}
.metric-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-base);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}
.metric-card h3 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
}
.metric-value {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-8);
}
.metric-details {
    color: var(--color-text-secondary);
    font-size: var(--font-size-base);
}
.action-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-16);
    margin-bottom: var(--space-32);
}
.action-btn {
    background: var(--color-surface);
    border: 2px solid var(--green-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    text-align: center;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-standard);
    text-decoration: none;
    color: var(--color-text);
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
}
.action-btn:hover {
    background: var(--green-primary);
    color: white;
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}
.action-btn strong {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
}
.action-btn span {
    font-size: var(--font-size-sm);
    opacity: 0.8;
}
.leaderboard {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    margin-bottom: var(--space-32);
    box-shadow: var(--shadow-sm);
}
.leaderboard-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-16);
    border-bottom: 1px solid var(--color-card-border-inner);
    transition: background var(--duration-fast) var(--ease-standard);
}
.leaderboard-item:last-child {
    border-bottom: none;
}
.leaderboard-item:hover {
    background: var(--color-bg-3);
}
.leaderboard-item.current {
    background: rgba(16, 185, 129, 0.1);
    border-left: 4px solid var(--green-primary);
    font-weight: var(--font-weight-bold);
}
.rank {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-full);
    background: var(--green-primary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: var(--font-weight-bold);
    margin-right: var(--space-16);
}
.leaderboard-name {
    flex: 1;
    font-size: var(--font-size-lg);
}
.leaderboard-score {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--green-primary);
}
.badges-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--space-16);
    margin-bottom: var(--space-32);
}
.badge {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    text-align: center;
    transition: all var(--duration-normal) var(--ease-standard);
}
.badge.earned {
    border-color: var(--green-primary);
    background: rgba(16, 185, 129, 0.05);
}
.badge.not-earned {
    opacity: 0.5;
}
.badge:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
}
.badge-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto var(--space-12);
    background: var(--green-primary);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
}
.badge.not-earned .badge-icon {
    background: var(--color-secondary);
}
.badge-name {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
}
.badge-desc {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-top: var(--space-4);
}
/* AQI Grid */
.aqi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-20);
    margin-bottom: var(--space-32);
}
.aqi-card {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    box-shadow: var(--shadow-sm);
    transition: transform var(--duration-normal) var(--ease-standard);
}
.aqi-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
}
.aqi-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-16);
}
.aqi-header h3 {
    font-size: var(--font-size-lg);
    margin: 0;
}
.aqi-badge {
    padding: var(--space-4) var(--space-12);
    border-radius: var(--radius-full);
    color: white;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
}
.aqi-value {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-4);
}
.aqi-label {
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-16);
}
.aqi-details {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-8);
    padding-top: var(--space-16);
    border-top: 1px solid var(--color-card-border-inner);
}
.pollutant {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}
.pollutant span {
    font-weight: var(--font-weight-medium);
    color: var(--color-text);
}
/* Society Cards */
.top-societies {
    display: flex;
    flex-direction: column;
    gap: var(--space-16);
    margin-bottom: var(--space-32);
}
.society-card {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    display: flex;
    gap: var(--space-16);
    align-items: center;
    box-shadow: var(--shadow-sm);
    transition: all var(--duration-normal) var(--ease-standard);
}
.society-card:hover {
    transform: translateX(8px);
    box-shadow: var(--shadow-md);
}
.society-rank {
    width: 60px;
    height: 60px;
    background: var(--green-primary);
    color: white;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
}
.society-info {
    flex: 1;
}
.society-info h3 {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-8);
}
.society-stats {
    display: flex;
    gap: var(--space-16);
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
    flex-wrap: wrap;
}
/* Activity Feed */
.activity-feed {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    max-height: 500px;
    overflow-y: auto;
}
.feed-item {
    display: flex;
    gap: var(--space-12);
    padding: var(--space-16);
    border-bottom: 1px solid var(--color-card-border-inner);
}
.feed-item:last-child {
    border-bottom: none;
}
.feed-icon {
    width: 40px;
    height: 40px;
    background: rgba(16, 185, 129, 0.1);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}
.feed-content {
    flex: 1;
    font-size: var(--font-size-sm);
}
.feed-content strong {
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
}
.feed-credits {
    color: var(--green-primary);
    font-weight: var(--font-weight-bold);
    margin-top: var(--space-4);
}
/* Submit Form */
.submit-container {
    max-width: 700px;
    margin: 0 auto;
}
.submit-form {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-32);
    box-shadow: var(--shadow-sm);
}
.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-16);
}
.carbon-calculator {
    background: rgba(16, 185, 129, 0.05);
    border: 2px solid var(--green-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    margin: var(--space-24) 0;
}
.carbon-calculator h3 {
    margin-bottom: var(--space-16);
    color: var(--green-primary);
}
.calc-breakdown {
    font-size: var(--font-size-sm);
}
.calc-line {
    display: flex;
    justify-content: space-between;
    padding: var(--space-6) 0;
    color: var(--color-text-secondary);
}
.calc-total {
    display: flex;
    justify-content: space-between;
    padding: var(--space-12) 0;
    margin-top: var(--space-12);
    border-top: 2px solid var(--green-primary);
    font-size: var(--font-size-lg);
    color: var(--color-text);
    font-weight: var(--font-weight-bold);
}
/* Leaderboard */
.leaderboard-filters {
    display: flex;
    gap: var(--space-8);
    margin-bottom: var(--space-24);
    flex-wrap: wrap;
}
.filter-btn {
    background: var(--color-secondary);
    border: 1px solid var(--color-border);
    padding: var(--space-8) var(--space-16);
    border-radius: var(--radius-base);
    cursor: pointer;
    font-size: var(--font-size-sm);
    transition: all var(--duration-fast) var(--ease-standard);
    color: var(--color-text);
}
.filter-btn:hover {
    background: var(--color-secondary-hover);
}
.filter-btn.active {
    background: var(--green-primary);
    color: white;
    border-color: var(--green-primary);
}
.leaderboard-row {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    margin-bottom: var(--space-12);
    display: flex;
    align-items: center;
    gap: var(--space-16);
    transition: all var(--duration-normal) var(--ease-standard);
}
.leaderboard-row:hover {
    transform: translateX(8px);
    box-shadow: var(--shadow-md);
}
.lb-rank {
    width: 50px;
    height: 50px;
    background: var(--green-primary);
    color: white;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
}
.lb-info {
    flex: 1;
}
.lb-name {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-4);
}
.lb-city {
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
}
.lb-stats {
    display: flex;
    gap: var(--space-24);
}
.lb-stat {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}
.lb-stat span {
    display: block;
    margin-bottom: var(--space-2);
}
.lb-stat strong {
    color: var(--green-primary);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
}
/* Profile */
.profile-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-20);
    margin-bottom: var(--space-32);
}
.stat-card {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    text-align: center;
    box-shadow: var(--shadow-sm);
}
.stat-icon {
    font-size: 40px;
    margin-bottom: var(--space-12);
}
.stat-value {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--green-primary);
    margin-bottom: var(--space-8);
}
.stat-label {
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
}
.activity-history {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
}
.history-item {
    padding: var(--space-16);
    border-bottom: 1px solid var(--color-card-border-inner);
}
.history-item:last-child {
    border-bottom: none;
}
.history-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-8);
}
.history-credits {
    color: var(--green-primary);
    font-weight: var(--font-weight-bold);
}
.history-details {
    display: flex;
    gap: var(--space-16);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    flex-wrap: wrap;
}
/* Learn Page */
.learn-content {
    max-width: 800px;
    margin: 0 auto;
}
.info-card {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    margin-bottom: var(--space-24);
    box-shadow: var(--shadow-sm);
}
.info-card h3 {
    margin-bottom: var(--space-16);
    color: var(--color-text);
}
.info-card p {
    color: var(--color-text-secondary);
    line-height: 1.7;
}
.formula-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-16);
}
.formula-item {
    padding: var(--space-16);
    background: var(--color-bg-3);
    border-radius: var(--radius-base);
    border-left: 4px solid var(--green-primary);
}
.formula-item strong {
    display: block;
    margin-bottom: var(--space-4);
    color: var(--color-text);
}
.formula-item small {
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
}
.badge-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-12);
}
.badge-desc {
    padding: var(--space-12);
    background: var(--color-bg-2);
    border-radius: var(--radius-base);
}
.badge-desc strong {
    display: block;
    margin-bottom: var(--space-4);
}
.badge-desc p {
    margin: 0;
    font-size: var(--font-size-sm);
}
.challenges-grid {
    display: grid;
    gap: var(--space-20);
}
.challenge {
    background: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-24);
    box-shadow: var(--shadow-sm);
}
.challenge-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-16);
}
.challenge-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
}
.challenge-reward {
    color: var(--green-primary);
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-base);
}
.progress-bar {
    width: 100%;
    height: 12px;
    background: var(--color-secondary);
    border-radius: var(--radius-full);
    overflow: hidden;
}
.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--green-primary), var(--green-light));
    border-radius: var(--radius-full);
    transition: width var(--duration-normal) var(--ease-standard);
}
@media (max-width: 768px) {
    .header h1 {
        font-size: var(--font-size-xl);
    }
    .header {
        flex-direction: column;
        gap: var(--space-12);
        text-align: center;
    }
    .nav-menu {
        justify-content: center;
    }
    .hero h2 {
        font-size: var(--font-size-2xl);
    }
    .metrics-grid {
        grid-template-columns: 1fr;
    }
    .form-row {
        grid-template-columns: 1fr;
    }
    .lb-stats {
        flex-direction: column;
        gap: var(--space-8);
    }
    .leaderboard-filters {
        justify-content: center;
    }
    .user-info {
        align-items: center;
    }
}
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">üåç</div>
            <div>
                <h1>EcoCleanup Tracker</h1>
                <p style="margin: 0; font-size: var(--font-size-sm); opacity: 0.9;">Earn Carbon Credits ‚Ä¢ Clean India</p>
            </div>
        </div>
        <div id="authControls">
            <nav class="nav-menu" id="mainNav" style="display: none;">
                <button class="nav-btn active" onclick="showPage('home')">üè† Home</button>
                <button class="nav-btn" onclick="showPage('submit')">üì§ Submit Activity</button>
                <button class="nav-btn" onclick="showPage('leaderboard')">üèÜ Leaderboard</button>
                <button class="nav-btn" onclick="showPage('profile')">üë§ Profile</button>
                <button class="nav-btn" onclick="showPage('learn')">üìö Learn</button>
            </nav>
            <div class="user-info" id="userInfo" style="display: none;">
                <span>Welcome, <span id="welcomeUsername"></span></span>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
            <button class="btn btn--secondary" onclick="openModal()">Login / Signup</button>
        </div>
    </header>

    <!-- Login/Signup Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Login or Sign Up</h2>
                <span class="close-btn" onclick="closeModal()">&times;</span>
            </div>
            <div class="tab-container">
                <button class="tab-btn active" onclick="openTab('loginTab')">Login</button>
                <button class="tab-btn" onclick="openTab('signupTab')">Sign Up</button>
            </div>

            <div id="loginTab" class="tab-content active">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="loginEmail" placeholder="your.email@example.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Log In</button>
                </form>
                <a href="#" class="forgot-password">Forgot Password?</a>
            </div>

            <div id="signupTab" class="tab-content">
                <form id="signupForm">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="signupName" placeholder="John Doe" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="signupEmail" placeholder="your.email@example.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="signupPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" class="form-control" id="signupConfirmPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">User Type</label>
                        <select class="form-control" id="userType" required>
                            <option value="">Select type</option>
                            <option value="individual">Individual</option>
                            <option value="society">Society Representative</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Society/Location (if applicable)</label>
                        <select class="form-control" id="signupSociety">
                            <option value="">Select your society (optional)</option>
                            <optgroup label="Delhi Region">
                                <option value="Lodhi Colony, Delhi">Lodhi Colony, Delhi</option>
                                <option value="Defence Colony, Delhi">Defence Colony, Delhi</option>
                                <option value="Greater Kailash, Delhi">Greater Kailash, Delhi</option>
                                <option value="DLF City Phase 5, Delhi">DLF City Phase 5, Delhi</option>
                            </optgroup>
                            <optgroup label="Mumbai Region">
                                <option value="Worli, Mumbai">Worli, Mumbai</option>
                                <option value="Bandra, Mumbai">Bandra, Mumbai</option>
                                <option value="Powai, Mumbai">Powai, Mumbai</option>
                                <option value="Marine Drive, Mumbai">Marine Drive, Mumbai</option>
                            </optgroup>
                            <optgroup label="Bangalore Region">
                                <option value="Whitefield, Bangalore">Whitefield, Bangalore</option>
                                <option value="Koramangala, Bangalore">Koramangala, Bangalore</option>
                                <option value="Indiranagar, Bangalore">Indiranagar, Bangalore</option>
                                <option value="Sadashivanagar, Bangalore">Sadashivanagar, Bangalore</option>
                            </optgroup>
                            <optgroup label="Hyderabad Region">
                                <option value="Jubilee Hills, Hyderabad">Jubilee Hills, Hyderabad</option>
                                <option value="Banjara Hills, Hyderabad">Banjara Hills, Hyderabad</option>
                                <option value="Hi-Tech City, Hyderabad">Hi-Tech City, Hyderabad</option>
                                <option value="Madhapur, Hyderabad">Madhapur, Hyderabad</option>
                            </optgroup>
                        </select>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Sign Up</button>
                </form>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- HOME PAGE -->
        <div id="page-home" class="page active">
            <section class="hero">
                <h2>Real-Time Air Quality Across India</h2>
                <p>Track pollution levels, submit cleanup activities, and earn carbon credits for environmental action</p>
            </section>

            <!-- Dashboard Section (Visible only when logged in) -->
            <div id="dashboardSection" class="dashboard-section" style="display: none;">
                <h2>üìä Your Dashboard</h2>
                <div class="user-stats">
                    <div class="user-stat-card">
                        <div class="user-stat-icon">üå±</div>
                        <div class="user-stat-value" id="dashCredits">0</div>
                        <div class="user-stat-label">Your Credits</div>
                    </div>
                    <div class="user-stat-card">
                        <div class="user-stat-icon">üéØ</div>
                        <div class="user-stat-value" id="dashActivities">0</div>
                        <div class="user-stat-label">Your Activities</div>
                    </div>
                    <div class="user-stat-card">
                        <div class="user-stat-icon">üèÜ</div>
                        <div class="user-stat-value" id="dashBadges">0</div>
                        <div class="user-stat-label">Badges Earned</div>
                    </div>
                </div>
            </div>

            <section>
                <h2 class="section-title">üåÜ Air Quality Index - Major Indian Cities</h2>
                <div class="aqi-grid" id="aqiGrid"></div>
            </section>
            <section>
                <h2 class="section-title">üèÜ Top 5 Societies - Carbon Credits Leaderboard</h2>
                <div class="top-societies" id="topSocieties"></div>
            </section>
            <section>
                <h2 class="section-title">üìä Community Impact</h2>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">üå±</div>
                            <h3>Total Carbon Credits</h3>
                        </div>
                        <div class="metric-value" style="color: #10b981;">31,590</div>
                        <div class="metric-details">Earned by all societies</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">üóëÔ∏è</div>
                            <h3>Waste Collected</h3>
                        </div>
                        <div class="metric-value" style="color: #f59e0b;">38,760 kg</div>
                        <div class="metric-details">Total waste removed</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: rgba(59, 130, 246, 0.1); color: #3b82f6;">üë•</div>
                            <h3>Active Members</h3>
                        </div>
                        <div class="metric-value" style="color: #3b82f6;">1,795</div>
                        <div class="metric-details">Across all societies</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">üéØ</div>
                            <h3>Activities Completed</h3>
                        </div>
                        <div class="metric-value" style="color: #10b981;">390</div>
                        <div class="metric-details">Cleanup drives organized</div>
                    </div>
                </div>
            </section>
            <section>
                <h2 class="section-title">üì∞ Recent Activity Feed</h2>
                <div class="activity-feed" id="activityFeed"></div>
            </section>
        </div>
        <!-- SUBMIT ACTIVITY PAGE -->
        <div id="page-submit" class="page">
            <section class="hero">
                <h2>Submit Your Cleanup Activity</h2>
                <p>Upload photos/videos of your cleanup drive and earn carbon credits!</p>
            </section>
            <div class="submit-container">
                <form class="submit-form" id="submitForm">
                    <div class="form-group">
                        <label class="form-label">Activity Title</label>
                        <input type="text" class="form-control" id="activityTitle" placeholder="e.g., Street Cleanup Drive" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" id="activityDescription" rows="4" placeholder="Describe your cleanup activity..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Activity Type</label>
                        <select class="form-control" id="activityType" required>
                            <option value="">Select activity type</option>
                            <option value="Street Cleanup Drive">Street Cleanup Drive</option>
                            <option value="Park Beautification">Park Beautification</option>
                            <option value="River Cleanup">River Cleanup</option>
                            <option value="Beach Cleanup">Beach Cleanup</option>
                            <option value="Plastic Collection">Plastic Collection</option>
                            <option value="Tree Planting">Tree Planting</option>
                            <option value="Garden Maintenance">Garden Maintenance</option>
                            <option value="Lake Cleanup">Lake Cleanup</option>
                            <option value="E-waste Recycling">E-waste Recycling</option>
                            <option value="Waste Segregation">Waste Segregation</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Society/Location</label>
                        <select class="form-control" id="societyName" required>
                            <option value="">Select your society</option>
                            <optgroup label="Delhi Region">
                                <option value="Lodhi Colony, Delhi">Lodhi Colony, Delhi</option>
                                <option value="Defence Colony, Delhi">Defence Colony, Delhi</option>
                                <option value="Greater Kailash, Delhi">Greater Kailash, Delhi</option>
                                <option value="DLF City Phase 5, Delhi">DLF City Phase 5, Delhi</option>
                            </optgroup>
                            <optgroup label="Mumbai Region">
                                <option value="Worli, Mumbai">Worli, Mumbai</option>
                                <option value="Bandra, Mumbai">Bandra, Mumbai</option>
                                <option value="Powai, Mumbai">Powai, Mumbai</option>
                                <option value="Marine Drive, Mumbai">Marine Drive, Mumbai</option>
                            </optgroup>
                            <optgroup label="Bangalore Region">
                                <option value="Whitefield, Bangalore">Whitefield, Bangalore</option>
                                <option value="Koramangala, Bangalore">Koramangala, Bangalore</option>
                                <option value="Indiranagar, Bangalore">Indiranagar, Bangalore</option>
                                <option value="Sadashivanagar, Bangalore">Sadashivanagar, Bangalore</option>
                            </optgroup>
                            <optgroup label="Hyderabad Region">
                                <option value="Jubilee Hills, Hyderabad">Jubilee Hills, Hyderabad</option>
                                <option value="Banjara Hills, Hyderabad">Banjara Hills, Hyderabad</option>
                                <option value="Hi-Tech City, Hyderabad">Hi-Tech City, Hyderabad</option>
                                <option value="Madhapur, Hyderabad">Madhapur, Hyderabad</option>
                            </optgroup>
                            <optgroup label="Chennai Region">
                                <option value="Boat Club Road, Chennai">Boat Club Road, Chennai</option>
                                <option value="Alwarpet, Chennai">Alwarpet, Chennai</option>
                                <option value="Nungambakkam, Chennai">Nungambakkam, Chennai</option>
                                <option value="Mylapore, Chennai">Mylapore, Chennai</option>
                            </optgroup>
                            <optgroup label="Kolkata Region">
                                <option value="Alipore, Kolkata">Alipore, Kolkata</option>
                                <option value="Ballygunge, Kolkata">Ballygunge, Kolkata</option>
                                <option value="Elgin Road, Kolkata">Elgin Road, Kolkata</option>
                                <option value="Salt Lake, Kolkata">Salt Lake, Kolkata</option>
                            </optgroup>
                            <optgroup label="Pune Region">
                                <option value="Koregaon Park, Pune">Koregaon Park, Pune</option>
                                <option value="Viman Nagar, Pune">Viman Nagar, Pune</option>
                                <option value="Kalyani Nagar, Pune">Kalyani Nagar, Pune</option>
                                <option value="Baner, Pune">Baner, Pune</option>
                            </optgroup>
                            <optgroup label="Ahmedabad Region">
                                <option value="Satellite, Ahmedabad">Satellite, Ahmedabad</option>
                                <option value="Thaltej, Ahmedabad">Thaltej, Ahmedabad</option>
                                <option value="Bodakdev, Ahmedabad">Bodakdev, Ahmedabad</option>
                                <option value="Paldi, Ahmedabad">Paldi, Ahmedabad</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Waste Collected (kg)</label>
                            <input type="number" class="form-control" id="wasteCollected" placeholder="0" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Plastic Collected (kg)</label>
                            <input type="number" class="form-control" id="plasticCollected" placeholder="0" min="0" value="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Trees Planted</label>
                            <input type="number" class="form-control" id="treesPlanted" placeholder="0" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">People Involved</label>
                            <input type="number" class="form-control" id="peopleInvolved" placeholder="1" min="1" value="1" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Activity Date</label>
                        <input type="date" class="form-control" id="activityDate" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Upload Photo/Video Proof</label>
                        <input type="file" class="form-control" id="fileUpload" accept="image/*,video/*" required>
                        <small style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Accepted: JPG, PNG, MP4, WebM</small>
                    </div>
                    <div class="carbon-calculator" id="carbonPreview">
                        <h3>üíö Carbon Credits Calculation</h3>
                        <div class="calc-breakdown" id="calcBreakdown">
                            <p>Fill the form to see your estimated carbon credits</p>
                        </div>
                    </div>
                    <button type="submit" class="btn btn--primary btn--lg btn--full-width">Submit Activity &amp; Earn Credits</button>
                </form>
            </div>
        </div>
        <!-- LEADERBOARD PAGE -->
        <div id="page-leaderboard" class="page">
            <section class="hero">
                <h2>üèÜ Society Leaderboard</h2>
                <p>See how residential societies across India are leading the environmental cleanup movement</p>
            </section>
            <div class="leaderboard-filters">
                <button class="filter-btn active" onclick="filterLeaderboard('all')">All India</button>
                <button class="filter-btn" onclick="filterLeaderboard('New Delhi')">Delhi</button>
                <button class="filter-btn" onclick="filterLeaderboard('Mumbai')">Mumbai</button>
                <button class="filter-btn" onclick="filterLeaderboard('Bangalore')">Bangalore</button>
                <button class="filter-btn" onclick="filterLeaderboard('Hyderabad')">Hyderabad</button>
            </div>
            <div class="leaderboard" id="fullLeaderboard"></div>
        </div>
        <!-- PROFILE PAGE -->
        <div id="page-profile" class="page">
            <section class="hero">
                <h2>üë§ Your Profile</h2>
                <p>Track your environmental contributions and achievements</p>
            </section>
            <div class="profile-setup" id="profileSetup">
                <div class="card">
                    <div class="card__body">
                        <h3 style="margin-bottom: var(--space-16);">Create Your Profile</h3>
                        <form id="profileForm">
                            <div class="form-group">
                                <label class="form-label">Your Name</label>
                                <input type="text" class="form-control" id="userName" placeholder="Enter your name" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" id="userEmail" placeholder="your.email@example.com" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Your Society</label>
                                <select class="form-control" id="userSociety" required>
                                    <option value="">Select your society</option>
                                    <option value="Lodhi Colony, Delhi">Lodhi Colony, Delhi</option>
                                    <option value="Defence Colony, Delhi">Defence Colony, Delhi</option>
                                    <option value="Worli, Mumbai">Worli, Mumbai</option>
                                    <option value="Bandra, Mumbai">Bandra, Mumbai</option>
                                    <option value="Whitefield, Bangalore">Whitefield, Bangalore</option>
                                    <option value="Koramangala, Bangalore">Koramangala, Bangalore</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn--primary btn--full-width">Create Profile</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="profile-display" id="profileDisplay" style="display: none;">
                <div class="profile-stats">
                    <div class="stat-card">
                        <div class="stat-icon">üå±</div>
                        <div class="stat-value" id="userCredits">0</div>
                        <div class="stat-label">Carbon Credits</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-value" id="userActivities">0</div>
                        <div class="stat-label">Activities</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value" id="userBadges">0</div>
                        <div class="stat-label">Badges Earned</div>
                    </div>
                </div>
                <section>
                    <h2 class="section-title">Your Badges</h2>
                    <div class="badges-grid" id="userBadgesGrid"></div>
                </section>
                <section>
                    <h2 class="section-title">Activity History</h2>
                    <div class="activity-history" id="activityHistory">
                        <p style="color: var(--color-text-secondary); text-align: center; padding: var(--space-24);">No activities submitted yet. Submit your first cleanup activity to get started!</p>
                    </div>
                </section>
            </div>
        </div>
        <!-- LEARN PAGE -->
        <div id="page-learn" class="page">
            <section class="hero">
                <h2>üìö Learn About Carbon Credits</h2>
                <p>Understand how your cleanup activities translate to environmental impact</p>
            </section>
            <div class="learn-content">
                <div class="info-card">
                    <h3>üíö What are Carbon Credits?</h3>
                    <p>Carbon credits represent the reduction or removal of greenhouse gas emissions from the atmosphere. Each carbon credit equals one tonne of CO‚ÇÇ equivalent prevented from entering the atmosphere.</p>
                </div>
                <div class="info-card">
                    <h3>üßÆ How We Calculate Your Credits</h3>
                    <div class="formula-list">
                        <div class="formula-item">
                            <strong>Waste Collection:</strong> 1 kg = 0.5 credits
                            <small>Prevents methane emissions from landfills</small>
                        </div>
                        <div class="formula-item">
                            <strong>Tree Planting:</strong> 1 tree = 15 credits
                            <small>Annual CO‚ÇÇ absorption capacity</small>
                        </div>
                        <div class="formula-item">
                            <strong>Plastic Collection:</strong> 1 kg = 1.2 credits
                            <small>Prevents ocean pollution &amp; manufacturing emissions</small>
                        </div>
                        <div class="formula-item">
                            <strong>Community Participation:</strong> 10 people = 5 bonus credits
                            <small>Multiplier effect of group action</small>
                        </div>
                        <div class="formula-item">
                            <strong>Activity Submission:</strong> +10 credits
                            <small>For documenting and sharing your impact</small>
                        </div>
                    </div>
                </div>
                <div class="info-card">
                    <h3>üåç Environmental Impact</h3>
                    <p>Every cleanup activity contributes to:</p>
                    <ul style="margin-left: var(--space-20); color: var(--color-text-secondary);">
                        <li>Reducing air and water pollution</li>
                        <li>Protecting wildlife and ecosystems</li>
                        <li>Preventing climate change</li>
                        <li>Creating healthier communities</li>
                        <li>Inspiring others to take action</li>
                    </ul>
                </div>
                <div class="info-card">
                    <h3>üéñÔ∏è Badge System</h3>
                    <div class="badge-info">
                        <div class="badge-desc">
                            <strong>üåü First Cleanup Hero</strong>
                            <p>Submit your first cleanup activity</p>
                        </div>
                        <div class="badge-desc">
                            <strong>üèÜ Carbon Champion</strong>
                            <p>Earn 100+ carbon credits</p>
                        </div>
                        <div class="badge-desc">
                            <strong>üëë Community Leader</strong>
                            <p>Organize 5+ cleanup activities</p>
                        </div>
                        <div class="badge-desc">
                            <strong>‚öîÔ∏è Pollution Fighter</strong>
                            <p>Clean up in 3 different cities</p>
                        </div>
                        <div class="badge-desc">
                            <strong>üõ°Ô∏è Green Warrior</strong>
                            <p>Earn 500+ total carbon credits</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Data
        const cities = [
            {name: "New Delhi", aqi: 432, pm25: 148, pm10: 201, no2: 45, co: 850, o3: 25, so2: 12, status: "Severe", color: "#8b0000"},
            {name: "Mumbai", aqi: 175, pm25: 68, pm10: 125, no2: 32, co: 650, o3: 18, so2: 8, status: "Poor", color: "#dc2626"},
            {name: "Bangalore", aqi: 159, pm25: 55, pm10: 95, no2: 28, co: 520, o3: 22, so2: 6, status: "Moderate", color: "#ea580c"},
            {name: "Hyderabad", aqi: 162, pm25: 58, pm10: 102, no2: 30, co: 580, o3: 20, so2: 7, status: "Moderate", color: "#ea580c"},
            {name: "Chennai", aqi: 184, pm25: 72, pm10: 135, no2: 35, co: 720, o3: 19, so2: 9, status: "Poor", color: "#dc2626"},
            {name: "Kolkata", aqi: 200, pm25: 85, pm10: 152, no2: 40, co: 800, o3: 21, so2: 11, status: "Poor", color: "#dc2626"},
            {name: "Pune", aqi: 193, pm25: 78, pm10: 138, no2: 38, co: 760, o3: 23, so2: 10, status: "Poor", color: "#dc2626"},
            {name: "Ahmedabad", aqi: 168, pm25: 62, pm10: 112, no2: 33, co: 610, o3: 21, so2: 8, status: "Moderate", color: "#ea580c"}
        ];
        let societies = [
            {name: "Lodhi Colony, Delhi", city: "New Delhi", credits: 2450, members: 128, activities: 34, waste_collected: 2840, rank: 1, recent_activity: "Street Cleanup Drive", people_helped: 450},
            {name: "Defence Colony, Delhi", city: "New Delhi", credits: 2180, members: 112, activities: 28, waste_collected: 2560, rank: 2, recent_activity: "Park Beautification", people_helped: 380},
            {name: "Greater Kailash, Delhi", city: "New Delhi", credits: 1950, members: 98, activities: 22, waste_collected: 2240, rank: 3, recent_activity: "Garden Cleanup", people_helped: 310},
            {name: "DLF City Phase 5, Delhi", city: "New Delhi", credits: 1680, members: 85, activities: 18, waste_collected: 1920, rank: 4, recent_activity: "Recycling Drive", people_helped: 240},
            {name: "Worli, Mumbai", city: "Mumbai", credits: 2320, members: 115, activities: 32, waste_collected: 2720, rank: 5, recent_activity: "Coastal Cleanup", people_helped: 420},
            {name: "Bandra, Mumbai", city: "Mumbai", credits: 2100, members: 108, activities: 26, waste_collected: 2480, rank: 6, recent_activity: "Plastic Drive", people_helped: 360},
            {name: "Powai, Mumbai", city: "Mumbai", credits: 1820, members: 92, activities: 21, waste_collected: 2140, rank: 7, recent_activity: "Lake Cleanup", people_helped: 295},
            {name: "Marine Drive, Mumbai", city: "Mumbai", credits: 1540, members: 78, activities: 17, waste_collected: 1820, rank: 8, recent_activity: "Beach Cleanup", people_helped: 220},
            {name: "Whitefield, Bangalore", city: "Bangalore", credits: 1950, members: 102, activities: 24, waste_collected: 2280, rank: 9, recent_activity: "Green Building Initiative", people_helped: 340},
            {name: "Koramangala, Bangalore", city: "Bangalore", credits: 1760, members: 89, activities: 20, waste_collected: 2060, rank: 10, recent_activity: "Community Garden", people_helped: 290},
            {name: "Indiranagar, Bangalore", city: "Bangalore", credits: 1540, members: 78, activities: 16, waste_collected: 1800, rank: 11, recent_activity: "Tree Planting", people_helped: 260},
            {name: "Sadashivanagar, Bangalore", city: "Bangalore", credits: 1380, members: 72, activities: 14, waste_collected: 1620, rank: 12, recent_activity: "E-waste Recycling", people_helped: 210},
            {name: "Jubilee Hills, Hyderabad", city: "Hyderabad", credits: 1850, members: 95, activities: 22, waste_collected: 2160, rank: 13, recent_activity: "Park Restoration", people_helped: 320},
            {name: "Banjara Hills, Hyderabad", city: "Hyderabad", credits: 1680, members: 87, activities: 19, waste_collected: 1960, rank: 14, recent_activity: "Water Conservation", people_helped: 280},
            {name: "Hi-Tech City, Hyderabad", city: "Hyderabad", credits: 1450, members: 75, activities: 15, waste_collected: 1700, rank: 15, recent_activity: "Green Office Initiative", people_helped: 240},
            {name: "Madhapur, Hyderabad", city: "Hyderabad", credits: 1280, members: 68, activities: 12, waste_collected: 1500, rank: 16, recent_activity: "Waste Segregation", people_helped: 190},
            {name: "Boat Club Road, Chennai", city: "Chennai", credits: 1720, members: 88, activities: 20, waste_collected: 2020, rank: 17, recent_activity: "River Cleanup", people_helped: 300},
            {name: "Alwarpet, Chennai", city: "Chennai", credits: 1540, members: 78, activities: 17, waste_collected: 1800, rank: 18, recent_activity: "Neighborhood Beautification", people_helped: 270},
            {name: "Nungambakkam, Chennai", city: "Chennai", credits: 1380, members: 71, activities: 14, waste_collected: 1620, rank: 19, recent_activity: "Plastic Ban Campaign", people_helped: 240},
            {name: "Mylapore, Chennai", city: "Chennai", credits: 1210, members: 62, activities: 11, waste_collected: 1420, rank: 20, recent_activity: "Street Planting", people_helped: 180}
        ];
        const badges = [
            {id: "first_hero", name: "First Cleanup Hero", icon: "üåü", description: "Submitted your first cleanup activity", criteria: 1},
            {id: "carbon_champion", name: "Carbon Champion", icon: "üèÜ", description: "Earned 100+ carbon credits", criteria: 100},
            {id: "community_leader", name: "Community Leader", icon: "üëë", description: "Organized 5+ cleanup activities", criteria: 5},
            {id: "pollution_fighter", name: "Pollution Fighter", icon: "‚öîÔ∏è", description: "Cleaned up in 3 different cities", criteria: 3},
            {id: "green_warrior", name: "Green Warrior", icon: "üõ°Ô∏è", description: "Earned 500+ carbon credits", criteria: 500}
        ];
        // Authentication State
        let isLoggedIn = false;
        let currentUser = null;
        let userActivitiesList = [];
        let allActivities = [];

        // Navigation
        function showPage(pageId) {
            if (pageId === 'submit' && !isLoggedIn) {
                alert('Please log in to submit an activity.');
                openModal();
                return;
            }
            if (pageId === 'profile' && !isLoggedIn) {
                alert('Please log in to view your profile.');
                openModal();
                return;
            }
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('page-' + pageId).classList.add('active');
            const clickedBtn = event.target;
            if (clickedBtn.classList.contains('nav-btn')) {
                clickedBtn.classList.add('active');
            }
            // Update dashboard if showing home page
            if (pageId === 'home') {
                updateDashboard();
            }
        }

        // Authentication Functions
        function openModal() {
            document.getElementById('authModal').style.display = 'flex';
            openTab('loginTab'); // Default to login
        }

        function closeModal() {
            document.getElementById('authModal').style.display = 'none';
        }

        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            // Simulate login check (In real app, this connects to backend)
            // For demo, assume login is successful if fields are filled
            if (email && password) {
                isLoggedIn = true;
                currentUser = { name: email.split('@')[0], email: email, credits: 0, activitiesCount: 0, badges: [] };
                closeModal();
                updateUIAfterLogin();
                showPage('home');
                alert('Login successful!');
            } else {
                alert('Please enter valid credentials.');
            }
        });

        document.getElementById('signupForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            const userType = document.getElementById('userType').value;
            const society = document.getElementById('signupSociety').value;

            if (password !== confirmPassword) {
                alert('Passwords do not match.');
                return;
            }
            if (password.length < 6) {
                alert('Password must be at least 6 characters long.');
                return;
            }
            // Simulate signup (In real app, this connects to backend)
            if (name && email && password) {
                isLoggedIn = true;
                currentUser = { name: name, email: email, userType: userType, society: society, credits: 0, activitiesCount: 0, badges: [] };
                closeModal();
                updateUIAfterLogin();
                showPage('home');
                alert('Signup successful! Please create your profile.');
                // Optionally redirect to profile setup if it's the first time
                // showPage('profile');
            } else {
                alert('Please fill in all required fields.');
            }
        });

        function logout() {
            if (confirm('Are you sure you want to log out?')) {
                isLoggedIn = false;
                currentUser = null;
                userActivitiesList = [];
                updateUIAfterLogout();
                showPage('home');
            }
        }

        function updateUIAfterLogin() {
            document.getElementById('mainNav').style.display = 'flex';
            document.getElementById('userInfo').style.display = 'flex';
            document.getElementById('welcomeUsername').textContent = currentUser.name;
            document.getElementById('authControls').querySelector('button').style.display = 'none';
            updateDashboard(); // Show dashboard stats
        }

        function updateUIAfterLogout() {
            document.getElementById('mainNav').style.display = 'none';
            document.getElementById('userInfo').style.display = 'none';
            document.getElementById('authControls').querySelector('button').style.display = 'block';
            document.getElementById('dashboardSection').style.display = 'none'; // Hide dashboard
        }

        function updateDashboard() {
            if (isLoggedIn && currentUser) {
                document.getElementById('dashboardSection').style.display = 'block';
                document.getElementById('dashCredits').textContent = currentUser.credits || 0;
                document.getElementById('dashActivities').textContent = currentUser.activitiesCount || 0;
                document.getElementById('dashBadges').textContent = (currentUser.badges || []).length;
            } else {
                document.getElementById('dashboardSection').style.display = 'none';
            }
        }

        // Initialize AQI Grid
        function initAQI() {
            const grid = document.getElementById('aqiGrid');
            grid.innerHTML = cities.map(city => `
                <div class="aqi-card">
                    <div class="aqi-header">
                        <h3>${city.name}</h3>
                        <span class="aqi-badge" style="background: ${city.color};">${city.status}</span>
                    </div>
                    <div class="aqi-value" style="color: ${city.color};">${city.aqi}</div>
                    <div class="aqi-label">Air Quality Index</div>
                    <div class="aqi-details">
                        <div class="pollutant"><span>PM2.5:</span> ${city.pm25}</div>
                        <div class="pollutant"><span>PM10:</span> ${city.pm10}</div>
                        <div class="pollutant"><span>NO‚ÇÇ:</span> ${city.no2}</div>
                        <div class="pollutant"><span>CO:</span> ${city.co}</div>
                    </div>
                </div>
            `).join('');
        }

        // Top Societies
        function initTopSocieties() {
            const container = document.getElementById('topSocieties');
            const top5 = societies.slice(0, 5);
            container.innerHTML = top5.map(s => `
                <div class="society-card">
                    <div class="society-rank">#${s.rank}</div>
                    <div class="society-info">
                        <h3>${s.name}</h3>
                        <div class="society-stats">
                            <span>üå± ${s.credits} credits</span>
                            <span>üë• ${s.members} members</span>
                            <span>üéØ ${s.activities} activities</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Activity Feed
        function initActivityFeed() {
            const feed = document.getElementById('activityFeed');
            const recentActivities = societies.slice(0, 8).map(s => ({
                society: s.name,
                activity: s.recent_activity,
                credits: Math.floor(s.credits / s.activities)
            }));
            feed.innerHTML = recentActivities.map(a => `
                <div class="feed-item">
                    <div class="feed-icon">üå±</div>
                    <div class="feed-content">
                        <strong>${a.society}</strong> completed <em>${a.activity}</em>
                        <div class="feed-credits">+${a.credits} carbon credits earned</div>
                    </div>
                </div>
            `).join('');
        }

        // Full Leaderboard
        function renderLeaderboard(filter = 'all') {
            const container = document.getElementById('fullLeaderboard');
            let filtered = filter === 'all' ? societies : societies.filter(s => s.city === filter);
            container.innerHTML = filtered.map(s => `
                <div class="leaderboard-row">
                    <div class="lb-rank">#${s.rank}</div>
                    <div class="lb-info">
                        <div class="lb-name">${s.name}</div>
                        <div class="lb-city">${s.city}</div>
                    </div>
                    <div class="lb-stats">
                        <div class="lb-stat"><span>Credits:</span> <strong>${s.credits}</strong></div>
                        <div class="lb-stat"><span>Members:</span> ${s.members}</div>
                        <div class="lb-stat"><span>Activities:</span> ${s.activities}</div>
                    </div>
                </div>
            `).join('');
        }

        function filterLeaderboard(city) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderLeaderboard(city);
        }

        // Carbon Calculator
        function calculateCredits(waste, plastic, trees, people) {
            const wasteCredits = waste * 0.5;
            const plasticCredits = plastic * 1.2;
            const treeCredits = trees * 15;
            const peopleCredits = people * 0.5;
            const bonus = 10;
            const total = wasteCredits + plasticCredits + treeCredits + peopleCredits + bonus;
            return {
                waste: wasteCredits,
                plastic: plasticCredits,
                trees: treeCredits,
                people: peopleCredits,
                bonus: bonus,
                total: total
            };
        }

        // Update calculator preview
        document.addEventListener('input', (e) => {
            if (e.target.closest('#submitForm')) {
                const waste = parseFloat(document.getElementById('wasteCollected').value) || 0;
                const plastic = parseFloat(document.getElementById('plasticCollected').value) || 0;
                const trees = parseFloat(document.getElementById('treesPlanted').value) || 0;
                const people = parseFloat(document.getElementById('peopleInvolved').value) || 1;
                const calc = calculateCredits(waste, plastic, trees, people);
                const breakdown = document.getElementById('calcBreakdown');
                breakdown.innerHTML = `
                    <div class="calc-line">Waste (${waste} kg √ó 0.5): <strong>+${calc.waste.toFixed(1)}</strong></div>
                    <div class="calc-line">Plastic (${plastic} kg √ó 1.2): <strong>+${calc.plastic.toFixed(1)}</strong></div>
                    <div class="calc-line">Trees (${trees} √ó 15): <strong>+${calc.trees.toFixed(1)}</strong></div>
                    <div class="calc-line">People (${people} √ó 0.5): <strong>+${calc.people.toFixed(1)}</strong></div>
                    <div class="calc-line">Submission Bonus: <strong>+${calc.bonus}</strong></div>
                    <div class="calc-total">Total Carbon Credits: <strong>${calc.total.toFixed(1)}</strong></div>
                `;
            }
        });

        // Submit Activity Form
        document.getElementById('submitForm').addEventListener('submit', (e) => {
            e.preventDefault();
            if (!isLoggedIn) {
                alert('Please log in first!');
                openModal();
                return;
            }
            const waste = parseFloat(document.getElementById('wasteCollected').value) || 0;
            const plastic = parseFloat(document.getElementById('plasticCollected').value) || 0;
            const trees = parseFloat(document.getElementById('treesPlanted').value) || 0;
            const people = parseFloat(document.getElementById('peopleInvolved').value) || 1;
            const calc = calculateCredits(waste, plastic, trees, people);
            const activity = {
                title: document.getElementById('activityTitle').value,
                description: document.getElementById('activityDescription').value,
                type: document.getElementById('activityType').value,
                society: document.getElementById('societyName').value,
                date: document.getElementById('activityDate').value,
                waste: waste,
                plastic: plastic,
                trees: trees,
                people: people,
                credits: calc.total,
                file: document.getElementById('fileUpload').files[0]?.name || 'photo.jpg'
            };
            userActivitiesList.push(activity);
            allActivities.push({...activity, user: currentUser.name});
            // Update society credits
            const society = societies.find(s => s.name === activity.society);
            if (society) {
                society.credits += Math.round(calc.total);
                society.activities += 1;
                society.waste_collected += waste;
                societies.sort((a, b) => b.credits - a.credits);
                societies.forEach((s, i) => s.rank = i + 1);
            }
            // Update user profile
            if (!currentUser.credits) currentUser.credits = 0;
            if (!currentUser.activitiesCount) currentUser.activitiesCount = 0;
            currentUser.credits += calc.total;
            currentUser.activitiesCount += 1;
            alert(`üéâ Activity Submitted!
You earned ${calc.total.toFixed(1)} carbon credits!
Your society's rank has been updated.`);
            document.getElementById('submitForm').reset();
            document.getElementById('calcBreakdown').innerHTML = '<p>Fill the form to see your estimated carbon credits</p>';
            // Refresh displays
            initTopSocieties();
            initActivityFeed();
            renderLeaderboard('all');
            updateProfile();
            updateDashboard(); // Update dashboard stats
            showPage('profile');
        });

        // Profile Form
        document.getElementById('profileForm').addEventListener('submit', (e) => {
            e.preventDefault();
            if (!isLoggedIn) {
                alert('Please log in first!');
                openModal();
                return;
            }
            currentUser.name = document.getElementById('userName').value;
            currentUser.email = document.getElementById('userEmail').value;
            currentUser.society = document.getElementById('userSociety').value;

            document.getElementById('profileSetup').style.display = 'none';
            document.getElementById('profileDisplay').style.display = 'block';
            updateProfile();
        });

        function updateProfile() {
            if (!isLoggedIn || !currentUser) {
                document.getElementById('profileSetup').style.display = 'block';
                document.getElementById('profileDisplay').style.display = 'none';
                return;
            }
            document.getElementById('userCredits').textContent = currentUser.credits.toFixed(1);
            document.getElementById('userActivities').textContent = currentUser.activitiesCount;
            // Check badges
            const earnedBadges = [];
            if (currentUser.activitiesCount >= 1) earnedBadges.push('first_hero');
            if (currentUser.credits >= 100) earnedBadges.push('carbon_champion');
            if (currentUser.activitiesCount >= 5) earnedBadges.push('community_leader');
            if (currentUser.credits >= 500) earnedBadges.push('green_warrior');
            currentUser.badges = earnedBadges; // Update user's badge list
            document.getElementById('userBadges').textContent = earnedBadges.length;
            const badgesGrid = document.getElementById('userBadgesGrid');
            badgesGrid.innerHTML = badges.map(b => {
                const earned = earnedBadges.includes(b.id);
                return `
                    <div class="badge ${earned ? 'earned' : 'not-earned'}">
                        <div class="badge-icon">${b.icon}</div>
                        <div class="badge-name">${b.name}</div>
                        <div class="badge-desc">${b.description}</div>
                    </div>
                `;
            }).join('');
            // Activity history
            const history = document.getElementById('activityHistory');
            if (userActivitiesList.length === 0) {
                history.innerHTML = '<p style="color: var(--color-text-secondary); text-align: center; padding: var(--space-24);">No activities submitted yet.</p>';
            } else {
                history.innerHTML = userActivitiesList.map(a => `
                    <div class="history-item">
                        <div class="history-header">
                            <strong>${a.title}</strong>
                            <span class="history-credits">+${a.credits.toFixed(1)} credits</span>
                        </div>
                        <div class="history-details">
                            <span>üìç ${a.society}</span>
                            <span>üìÖ ${a.date}</span>
                            <span>üë• ${a.people} people</span>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initAQI();
            initTopSocieties();
            initActivityFeed();
            renderLeaderboard('all');
            // Set today's date as max for activity date
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('activityDate').max = today;
            // Check if user was previously logged in (simulated with a cookie or localStorage check in real app)
            // For this demo, we start as logged out
            updateUIAfterLogout(); // Initially hide nav, show login button
        });
    </script>
</body>
</html>
```